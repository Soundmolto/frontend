webpackJsonp([7],{"+XMp":function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a.apply(this,arguments)}function s(t,e){for(var i in t)if(!(i in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("KM04"),c=function(t){return t&&t.__esModule?t:{default:t}}(i("lhA9")),l=i("DzRl");e.default=function(t){function e(){var e=n(this,t.call(this));return e.componentName="snackbar",e.isPureReactComponent=!0,e}return r(e,t),e.prototype.componentDidMount=function(){this.MDComponent=l.MDCSnackbar.attachTo(this.control),this.MDComponent.dismissesOnAction=void 0===this.props.dismissesOnAction||null===this.props.dismissesOnAction||this.props.dismissesOnAction},e.prototype.componentWillUnmount=function(){this.MDComponent.destroy&&this.MDComponent.destroy()},e.prototype.shouldComponentUpdate=function(t,e){return s(this.props,t)||s(this.state,e)},e.prototype.materialDom=function(t){return(0,o.h)("div",a({"aria-live":"assertive","aria-atomic":"true","aria-hidden":"true",ref:this.setControlRef},t),(0,o.h)("div",{className:"mdc-snackbar__text"}),(0,o.h)("div",{className:"mdc-snackbar__action-wrapper"},(0,o.h)("button",{type:"button",className:"mdc-snackbar__action-button"})))},e}(c.default)},"9U4+":function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c,l,u=i("KM04"),h=i("sJaT"),p=i.n(h),d=i("7/cg"),f=i.n(d),m=i("JtzT"),y=i.n(m),v=i("+XMp"),b=i.n(v),g=i("AjJi"),w=i("E/bI"),_=i("Cv2I"),C=i.n(_),k=(i("gbHP"),i("rW9b"),i("VFUX"),i("zbYa"),i("aqQ4"),i("qKn3"),i("xYRm")),P=i.n(k),E=i("7BK7"),O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},x=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),T=Object.freeze({width:"100%"}),A={},j=Object(u.h)(f.a,{type:"submit"},"Submit"),S=(c=Object(w.b)(function(t){return{auth:t.auth}}))(l=function(t){function e(){return n(this,t.apply(this,arguments))}return r(e,t),e.prototype.onSubmit=function(t){t.preventDefault();var e=this.props.track.id;return Object(E.b)(this.props.dispatch,{token:this.props.auth.token,track:O({},A),id:e}),!0},e.prototype.onInputChange=function(t,e){var i,n=(i={},i[e]=t.currentTarget.value,i);A=O({},A,n)},e.prototype.render=function(t){var e=this,i=t.track;return A=O({},i),Object(u.h)("form",{onSubmit:this.onSubmit.bind(this),class:P.a.form},Object(u.h)(C.a,{label:"Track name",type:"text",autofocus:!0,value:i.name,style:T,onChange:function(t){return e.onInputChange(t,"name")}}),j)},x(e,[{key:"values",get:function(){return O({},A)}}]),e}(u.Component))||l,R=i("MeGi"),M=i.n(R),D=(i("UlEV"),i("sEh6"),i("pln1"),i("wK0a")),W=i.n(D),H=i("dloJ");i.d(e,"a",function(){return z});var N,L,I=function(t){return t},F=Object(u.h)(M.a,null,"headset"),B=Object(u.h)(y.a.Header,null,"Edit Track"),z=(N=Object(w.b)(function(t){return{auth:t.auth,currently_playing:t.currently_playing}}))(L=function(t){function e(){var i,n,r;a(this,e);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=n=s(this,t.call.apply(t,[this].concat(c))),n.plays=0,n.played=!1,n.deleting=!1,n.editTrackRef=function(t){return n.editTrackPanel=t},n.state={playing:!1},r=i,s(n,r)}return o(e,t),e.prototype.componentDidMount=function(){this.plays=this.props.track.plays},e.prototype.componentWillUnmount=function(){this.setState({playing:!1}),this.plays=0,this.played=!1},e.prototype.onFinish=function(){this.setState({playing:!1,pos:0}),Object(E.c)(this.props.dispatch,{playing:this.state.playing,position:0,track:this.props.track,owner:this.props.user})},e.prototype.onClickPlayPause=function(){this.setState({playing:!this.state.playing}),this.waveform._component.handleTogglePlay.bind(this.waveform._component)()},e.prototype.onTogglePlay=function(t,e){this.setState({playing:t,pos:e}),Object(E.c)(this.props.dispatch,{playing:this.state.playing,position:e,track:this.props.track,owner:this.props.user})},e.prototype.onPause=function(t){this.setState({playing:!1,pos:t}),Object(E.c)(this.props.dispatch,{playing:this.state.playing,position:t,track:this.props.track,owner:this.props.user})},e.prototype.onStartPlay=function(){!1===this.played&&(this.plays++,this.setState({playing:!0}),this.played=!0,Object(E.c)(this.props.dispatch,{playing:this.state.playing,position:0,track:this.props.track,owner:this.props.user}))},e.prototype.onClickEditTrack=function(){this.editTrackPanel.MDComponent.show()},e.prototype.onClickDeleteTrack=function(){var t=this;this.deleting=!0,this.bar.MDComponent.show({message:"Deleting track",actionText:"Undo",actionHandler:function(){return t.deleting=!1}}),window.setTimeout(function(){t.deleting&&Object(E.a)(t.props.dispatch,{track:t.props.track,token:t.props.auth.token,id:t.props.track.id})},2750)},e.prototype.render=function(t){var e=this,i=t.track,n=t.user,r=t.currentUser,a=t.currently_playing;return!1===this.played&&(this.plays=i.plays),!1===this.state.playing&&null!=a.track&&i.id===a.track.id&&!0===a.playing&&this.setState({playing:!0}),this.state.playing&&i.id!==a.track.id&&(this.setState({playing:!1}),this.waveform._component.onPause()),Object(u.h)("div",{class:W.a.card},Object(u.h)(p.a,{class:W.a.cardRoot},Object(u.h)("div",{style:{position:"relative"}},Object(u.h)("h4",{class:I(W.a.displayName)},n.profile.displayName),Object(u.h)("h2",{class:I("mdc-typography--title "+W.a.username)},Object(u.h)(f.a,{style:{margin:"0 10px 0 0"},onClick:this.onClickPlayPause.bind(this)},Object(u.h)(M.a,null,!this.state.playing&&"play_arrow",this.state.playing&&"pause")),i.name),Object(u.h)(g.a,{ref:function(t){return e.waveform=t},data:i,onFinish:this.onFinish.bind(this),onTogglePlay:this.onTogglePlay.bind(this),onPause:this.onPause.bind(this),onStartPlay:this.onStartPlay.bind(this),key:i.id,onPosChange:function(t){e.props.footer._component.onPosChange(t)},audioContext:this.props.audioContext,parentPlaying:this.state.playing}),Object(u.h)("div",null,Object(u.h)("p",{class:W.a.centered},F," ",this.plays),Object(u.h)("span",{style:{"font-size":"0.9rem",float:"right"}},Object(u.h)("p",{class:W.a.centered+" prel "+W.a.w100},Object(u.h)("span",null,Object(H.a)(i.duration).rendered))),n.profile.id===r.profile.id&&Object(u.h)("span",null,Object(u.h)("p",{class:I(W.a.centered+" "+W.a.actionable),style:{float:"right"},onClick:this.onClickDeleteTrack.bind(this)},Object(u.h)(M.a,{style:{margin:0}},"delete")),Object(u.h)("p",{class:I(W.a.centered+" "+W.a.actionable),style:{float:"right"},onClick:this.onClickEditTrack.bind(this)},Object(u.h)(M.a,{style:{margin:0}},"edit")))))),Object(u.h)(y.a,{ref:this.editTrackRef},B,Object(u.h)(y.a.Body,null,Object(u.h)(S,{track:i}))),Object(u.h)(b.a,{ref:function(t){e.bar=t}}))},e}(u.Component))||L},AjJi:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,o=i("KM04"),c=(i("arfx"),i("QKqU"),i("gUkI")),l=i.n(c),u=i("E/bI"),h="#5D8CAE",p="#334b5c";"undefined"!=typeof window&&(h=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,250),h.addColorStop(0,"#5D8CAE"),h.addColorStop(1,"#c67dcb"),p=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,250),p.addColorStop(0,"#334b5c"),p.addColorStop(1,"#7b4180"));var d=(a=Object(u.b)(function(t){return{currently_playing:t.currently_playing}}))(s=function(t){function e(e){var i=n(this,t.call(this,e));return i.state={playing:!1,pos:0},i}return r(e,t),e.prototype.handleTogglePlay=function(){this.setState({playing:!this.state.playing}),null!=this.props.onTogglePlay&&this.props.onTogglePlay(this.state.playing,this.state.pos)},e.prototype.componentWillReceiveProps=function(t){var e=t.currently_playing;t.data.id===(e&&null!=e.track&&e.track.id)&&(this.setState({playing:e.playing}),!0===this.props.parentPlaying&&!1===this.state.playing&&this.setState({playing:!0}),0!==e.position&&e.position!==this.state.position&&this.setState({pos:e.position}))},e.prototype.play=function(){!1===this.state.playing&&(this.setState({playing:!0}),null!=this.props.onTogglePlay&&this.props.onTogglePlay(this.state.playing,this.state.pos))},e.prototype.handlePosChange=function(t){this.setState({pos:t.originalArgs[0]}),this.props.onPosChange(t.originalArgs[0])},e.prototype.componentWillUnmount=function(){this.setState({playing:!1,pos:0})},e.prototype.onPause=function(){this.setState({playing:!1})},e.prototype.render=function(t){var e=this,i=t.data,n=t.onFinish,r=t.currently_playing,a=this.state.playing,s=i.id,c=r&&null!=r.track&&r.track.id;return s===c&&(a=r.playing),s!==c&&!0===this.state.playing&&this.setState({playing:!1}),!0===this.props.parentPlaying&&!1===this.state.playing&&(console.log(this.props.parentPlaying),this.setState({playing:!0})),Object(o.h)("div",{onClick:this.play.bind(this)},Object(o.h)(l.a,{ref:function(t){return e.waveSurfer=t},audioFile:i.stream_url,pos:this.state.pos,onPosChange:this.handlePosChange.bind(this),playing:a,audioPeaks:i.peaks,options:{waveColor:h,progressColor:p,barWidth:1},onFinish:function(){e.setState({playing:!1,pos:0}),n()},onPlay:this.props.onStartPlay,key:"waveform-"+i.id,audioContext:this.props.audioContext}))},e}(o.Component))||s;i.d(e,"a",function(){return d})},BVqL:function(t){t.exports={card:"card__3r416",link:"link___4yfe"}},BrQk:function(t){t.exports={card:"card__-lYK0",link:"link__SwgNm"}},DuPh:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.d(e,"a",function(){return b});var a,s,o=i("KM04"),c=(i.n(o),i("sJaT")),l=i.n(c),u=i("UlEV"),h=(i.n(u),i("aqQ4")),p=(i.n(h),i("zmrY")),d=i("/QC5"),f=i("BVqL"),m=i.n(f),y=i("E/bI"),v=(i("qpDm"),Object(o.h)("p",null,"Not following anyone")),b=(a=Object(y.b)(function(t){return t}))(s=function(t){function e(){return n(this,t.apply(this,arguments))}return r(e,t),e.prototype.render=function(t){var e=t.viewedUser,i=t.style,n=void 0===i?{}:i;return Object(o.h)("div",{style:n},Object(o.h)(l.a,{class:m.a.card},Object(o.h)("h1",{style:{"margin-bottom":"10px"}},"Following ",e.following.length),0!==e.following.length&&e.following.map(function(t){return Object(o.h)(d.a,{href:"/"+t.url,class:m.a.link},Object(o.h)(p.a,{user:t}))}),e.following.length<=0&&v))},e}(o.Component))||s},DzRl:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function(){function t(){this.adapter_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}return u(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),p=h,d=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n(this,t),this.root_=e;for(var r=arguments.length,a=Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];this.initialize.apply(this,a),this.foundation_=void 0===i?this.getDefaultFoundation():i,this.foundation_.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new p)},t.prototype.initialize=function(){},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation_.destroy()},t.prototype.listen=function(t,e){this.root_.addEventListener(t,e)},t.prototype.unlisten=function(t,e){this.root_.removeEventListener(t,e)},t.prototype.emit=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=void 0;"function"==typeof CustomEvent?n=new CustomEvent(t,{detail:e,bubbles:i}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,i,!1,e)),this.root_.dispatchEvent(n)},t}(),f=d,m={ROOT:"mdc-snackbar",TEXT:"mdc-snackbar__text",ACTION_WRAPPER:"mdc-snackbar__action-wrapper",ACTION_BUTTON:"mdc-snackbar__action-button",ACTIVE:"mdc-snackbar--active",MULTILINE:"mdc-snackbar--multiline",ACTION_ON_BOTTOM:"mdc-snackbar--action-on-bottom"},y={TEXT_SELECTOR:".mdc-snackbar__text",ACTION_WRAPPER_SELECTOR:".mdc-snackbar__action-wrapper",ACTION_BUTTON_SELECTOR:".mdc-snackbar__action-button",SHOW_EVENT:"MDCSnackbar:show",HIDE_EVENT:"MDCSnackbar:hide"},v={MESSAGE_TIMEOUT:2750},b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},g=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),w=function(t){function e(i){r(this,e);var n=a(this,t.call(this,b(e.defaultAdapter,i)));return n.active_=!1,n.actionWasClicked_=!1,n.dismissOnAction_=!0,n.firstFocus_=!0,n.pointerDownRecognized_=!1,n.snackbarHasFocus_=!1,n.snackbarData_=null,n.queue_=[],n.actionClickHandler_=function(){n.actionWasClicked_=!0,n.invokeAction_()},n.visibilitychangeHandler_=function(){clearTimeout(n.timeoutId_),n.snackbarHasFocus_=!0,n.adapter_.visibilityIsHidden()||setTimeout(n.cleanup_.bind(n),n.snackbarData_.timeout||v.MESSAGE_TIMEOUT)},n.interactionHandler_=function(t){"touchstart"!=t.type&&"mousedown"!=t.type||(n.pointerDownRecognized_=!0),n.handlePossibleTabKeyboardFocus_(t),"focus"==t.type&&(n.pointerDownRecognized_=!1)},n.blurHandler_=function(){clearTimeout(n.timeoutId_),n.snackbarHasFocus_=!1,n.timeoutId_=setTimeout(n.cleanup_.bind(n),n.snackbarData_.timeout||v.MESSAGE_TIMEOUT)},n}return s(e,t),g(e,[{key:"active",get:function(){return this.active_}}],[{key:"cssClasses",get:function(){return m}},{key:"strings",get:function(){return y}},{key:"defaultAdapter",get:function(){return{addClass:function(){},removeClass:function(){},setAriaHidden:function(){},unsetAriaHidden:function(){},setActionAriaHidden:function(){},unsetActionAriaHidden:function(){},setActionText:function(){},setMessageText:function(){},setFocus:function(){},visibilityIsHidden:function(){return!1},registerCapturedBlurHandler:function(){},deregisterCapturedBlurHandler:function(){},registerVisibilityChangeHandler:function(){},deregisterVisibilityChangeHandler:function(){},registerCapturedInteractionHandler:function(){},deregisterCapturedInteractionHandler:function(){},registerActionClickHandler:function(){},deregisterActionClickHandler:function(){},registerTransitionEndHandler:function(){},deregisterTransitionEndHandler:function(){},notifyShow:function(){},notifyHide:function(){}}}}]),e.prototype.init=function(){this.adapter_.registerActionClickHandler(this.actionClickHandler_),this.adapter_.setAriaHidden(),this.adapter_.setActionAriaHidden()},e.prototype.destroy=function(){var t=this;this.adapter_.deregisterActionClickHandler(this.actionClickHandler_),this.adapter_.deregisterCapturedBlurHandler(this.blurHandler_),this.adapter_.deregisterVisibilityChangeHandler(this.visibilitychangeHandler_),["touchstart","mousedown","focus"].forEach(function(e){t.adapter_.deregisterCapturedInteractionHandler(e,t.interactionHandler_)})},e.prototype.dismissesOnAction=function(){return this.dismissOnAction_},e.prototype.setDismissOnAction=function(t){this.dismissOnAction_=!!t},e.prototype.show=function(t){var e=this;if(!t)throw new Error("Please provide a data object with at least a message to display.");if(!t.message)throw new Error("Please provide a message to be displayed.");if(t.actionHandler&&!t.actionText)throw new Error("Please provide action text with the handler.");if(this.active)return void this.queue_.push(t);clearTimeout(this.timeoutId_),this.snackbarData_=t,this.firstFocus_=!0,this.adapter_.registerVisibilityChangeHandler(this.visibilitychangeHandler_),this.adapter_.registerCapturedBlurHandler(this.blurHandler_),["touchstart","mousedown","focus"].forEach(function(t){e.adapter_.registerCapturedInteractionHandler(t,e.interactionHandler_)});var i=m.ACTIVE,n=m.MULTILINE,r=m.ACTION_ON_BOTTOM;this.adapter_.setMessageText(this.snackbarData_.message),this.snackbarData_.multiline&&(this.adapter_.addClass(n),this.snackbarData_.actionOnBottom&&this.adapter_.addClass(r)),this.snackbarData_.actionHandler?(this.adapter_.setActionText(this.snackbarData_.actionText),this.actionHandler_=this.snackbarData_.actionHandler,this.setActionHidden_(!1)):(this.setActionHidden_(!0),this.actionHandler_=null,this.adapter_.setActionText(null)),this.active_=!0,this.adapter_.addClass(i),this.adapter_.unsetAriaHidden(),this.adapter_.notifyShow(),this.timeoutId_=setTimeout(this.cleanup_.bind(this),this.snackbarData_.timeout||v.MESSAGE_TIMEOUT)},e.prototype.handlePossibleTabKeyboardFocus_=function(){this.firstFocus_&&!this.pointerDownRecognized_&&this.setFocusOnAction_(),this.firstFocus_=!1},e.prototype.setFocusOnAction_=function(){this.adapter_.setFocus(),this.snackbarHasFocus_=!0,this.firstFocus_=!1},e.prototype.invokeAction_=function(){try{if(!this.actionHandler_)return;this.actionHandler_()}finally{this.dismissOnAction_&&this.cleanup_()}},e.prototype.cleanup_=function(){var t=this;if(!this.snackbarHasFocus_||this.actionWasClicked_){var e=m.MULTILINE,i=m.ACTION_ON_BOTTOM;this.adapter_.removeClass(m.ACTIVE),this.adapter_.registerTransitionEndHandler(function n(){clearTimeout(t.timeoutId_),t.adapter_.deregisterTransitionEndHandler(n),t.adapter_.removeClass(e),t.adapter_.removeClass(i),t.setActionHidden_(!0),t.adapter_.setAriaHidden(),t.active_=!1,t.snackbarHasFocus_=!1,t.adapter_.notifyHide(),t.showNext_()})}},e.prototype.showNext_=function(){this.queue_.length&&this.show(this.queue_.shift())},e.prototype.setActionHidden_=function(t){t?this.adapter_.setActionAriaHidden():this.adapter_.unsetActionAriaHidden()},e}(p),_=i("5qFY");i.d(e,"MDCSnackbar",function(){return k}),i.d(e,"MDCSnackbarFoundation",function(){return w});var C=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),k=function(t){function e(){return o(this,e),c(this,t.apply(this,arguments))}return l(e,t),e.attachTo=function(t){return new e(t)},e.prototype.show=function(t){this.foundation_.show(t)},e.prototype.getDefaultFoundation=function(){var t=this,e=w.strings,i=e.TEXT_SELECTOR,n=e.ACTION_BUTTON_SELECTOR,r=function(){return t.root_.querySelector(i)},a=function(){return t.root_.querySelector(n)};return new w({addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},setAriaHidden:function(){return t.root_.setAttribute("aria-hidden","true")},unsetAriaHidden:function(){return t.root_.removeAttribute("aria-hidden")},setActionAriaHidden:function(){return a().setAttribute("aria-hidden","true")},unsetActionAriaHidden:function(){return a().removeAttribute("aria-hidden")},setActionText:function(t){a().textContent=t},setMessageText:function(t){r().textContent=t},setFocus:function(){return a().focus()},visibilityIsHidden:function(){return document.hidden},registerCapturedBlurHandler:function(t){return a().addEventListener("blur",t,!0)},deregisterCapturedBlurHandler:function(t){return a().removeEventListener("blur",t,!0)},registerVisibilityChangeHandler:function(t){return document.addEventListener("visibilitychange",t)},deregisterVisibilityChangeHandler:function(t){return document.removeEventListener("visibilitychange",t)},registerCapturedInteractionHandler:function(t,e){return document.body.addEventListener(t,e,!0)},deregisterCapturedInteractionHandler:function(t,e){return document.body.removeEventListener(t,e,!0)},registerActionClickHandler:function(t){return a().addEventListener("click",t)},deregisterActionClickHandler:function(t){return a().removeEventListener("click",t)},registerTransitionEndHandler:function(e){return t.root_.addEventListener(Object(_.a)(window,"transitionend"),e)},deregisterTransitionEndHandler:function(e){return t.root_.removeEventListener(Object(_.a)(window,"transitionend"),e)},notifyShow:function(){return t.emit(w.strings.SHOW_EVENT)},notifyHide:function(){return t.emit(w.strings.HIDE_EVENT)}})},C(e,[{key:"dismissesOnAction",get:function(){return this.foundation_.dismissesOnAction()},set:function(t){this.foundation_.setDismissOnAction(t)}}]),e}(f)},JL9d:function(){},Q1yZ:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("KM04"),o=function(t){return t&&t.__esModule?t:{default:t}}(i("lhA9")),c=function(t){function e(){var e=n(this,t.call(this));return e.componentName="layout-grid",e}return r(e,t),e.prototype.materialDom=function(t){return(0,s.h)("div",a({ref:this.setControlRef},t),t.children)},e}(o.default),l=function(t){function e(){var e=n(this,t.call(this));return e.componentName="layout-grid__inner",e}return r(e,t),e.prototype.materialDom=function(t){return(0,s.h)("div",a({ref:this.setControlRef},t),t.children)},e}(o.default);c.Cell=function(t){function e(){var e=n(this,t.call(this));return e.componentName="layout-grid__cell",e._propsDict={cols:"cols",desktop:"desktopCols",tablet:"tabletCols",phone:"phoneCols",order:"order",align:"align"},e}return r(e,t),e.prototype.createClassName=function(t){var e="mdc-layout-grid__cell--",i=[];return t[this._propsDict.cols]&&i.push(e+"span-"+t[this._propsDict.cols]),t[this._propsDict.desktop]&&i.push(e+"span-"+t[this._propsDict.desktop]+"-desktop"),t[this._propsDict.tablet]&&i.push(e+"span-"+t[this._propsDict.tablet]+"-tablet"),t[this._propsDict.phone]&&i.push(e+"span-"+t[this._propsDict.phone]+"-phone"),t[this._propsDict.order]&&i.push(e+"order-"+t[this._propsDict.order]),t[this._propsDict.align]&&i.push(e+"align-"+t[this._propsDict.align]),i.join(" ")},e.prototype.materialDom=function(t){return(0,s.h)("div",a({},t,{className:this.createClassName(t),ref:this.setControlRef}),t.children)},e.prototype.render=function(){var e=this,i=t.prototype.render.call(this);return Object.keys(this._propsDict).forEach(function(t){return delete i.attributes[e._propsDict[t]]}),i},e}(o.default),c.Inner=l,e.default=c},QKqU:function(t,e){var i,n;!function(r,a){i=[],void 0!==(n=function(){return r.WaveSurfer=a()}.apply(e,i))&&(t.exports=n)}(this,function(){"use strict";var t={defaultParams:{audioContext:null,audioRate:1,autoCenter:!0,backend:"WebAudio",barHeight:1,closeAudioContext:!1,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,progressColor:"#555",normalize:!1,renderer:"MultiCanvas",scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#999"},init:function(e){if(this.params=t.util.extend({},this.defaultParams,e),!(this.container="string"==typeof e.container?document.querySelector(this.params.container):this.params.container))throw new Error("Container element not found");if(!(this.mediaContainer=null==this.params.mediaContainer?this.container:"string"==typeof this.params.mediaContainer?document.querySelector(this.params.mediaContainer):this.params.mediaContainer))throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.createPeakCache(),this.isDestroyed=!1},createDrawer:function(){var e=this;this.drawer=Object.create(t.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())}),this.drawer.on("click",function(t,i){setTimeout(function(){e.seekTo(i)},0)}),this.drawer.on("scroll",function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||t.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(t[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},createPeakCache:function(){this.params.partialRender&&(this.peakCache=Object.create(t.PeakCache),this.peakCache.init())},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(t,e){this.fireEvent("interaction",this.play.bind(this,t,e)),this.backend.play(t,e)},pause:function(){this.backend.isPaused()||this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(t){this.skip(-t||-this.params.skipLength)},skipForward:function(t){this.skip(t||this.params.skipLength)},skip:function(t){var e=this.getCurrentTime()||0,i=this.getDuration()||1;e=Math.max(0,Math.min(i,e+(t||0))),this.seekAndCenter(e/i)},seekAndCenter:function(t){this.seekTo(t),this.drawer.recenter(t)},seekTo:function(t){this.fireEvent("interaction",this.seekTo.bind(this,t));var e=this.backend.isPaused();e||this.backend.pause();var i=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(t*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),e||this.backend.play(),this.params.scrollParent=i,this.fireEvent("seek",t)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(t){this.backend.setVolume(t)},getVolume:function(){return this.backend.getVolume()},setPlaybackRate:function(t){this.backend.setPlaybackRate(t)},getPlaybackRate:function(){return this.backend.getPlaybackRate()},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(t){t!==this.isMuted&&(t?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},getMute:function(){return this.isMuted},getFilters:function(){return this.backend.filters||[]},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),e=this.drawer.getWidth(),i=t,n=this.drawer.getScrollX(),r=Math.min(n+e,i);if(this.params.fillParent&&(!this.params.scrollParent||t<e)&&(i=e,n=0,r=i),this.params.partialRender)for(var a=this.peakCache.addRangeToPeakCache(i,n,r),s=0;s<a.length;s++){var o=this.backend.getPeaks(i,a[s][0],a[s][1]);this.drawer.drawPeaks(o,i,a[s][0],a[s][1])}else{n=0,r=i;var o=this.backend.getPeaks(i,n,r);this.drawer.drawPeaks(o,i,n,r)}this.fireEvent("redraw",o,i)},zoom:function(t){this.params.minPxPerSec=t,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",t)},loadArrayBuffer:function(t){this.decodeArrayBuffer(t,function(t){this.isDestroyed||this.loadDecodedBuffer(t)}.bind(this))},loadDecodedBuffer:function(t){this.backend.load(t),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(t){var e=this,i=new FileReader;i.addEventListener("progress",function(t){e.onProgress(t)}),i.addEventListener("load",function(t){e.loadArrayBuffer(t.target.result)}),i.addEventListener("error",function(){e.fireEvent("error","Error reading file")}),i.readAsArrayBuffer(t),this.empty()},load:function(t,e,i){switch(this.empty(),this.isMuted=!1,this.params.backend){case"WebAudio":return this.loadBuffer(t,e);case"MediaElement":return this.loadMediaElement(t,e,i)}},loadBuffer:function(t,e){var i=function(e){return e&&this.tmpEvents.push(this.once("ready",e)),this.getArrayBuffer(t,this.loadArrayBuffer.bind(this))}.bind(this);return e?(this.backend.setPeaks(e),this.drawBuffer(),void this.tmpEvents.push(this.once("interaction",i))):i()},loadMediaElement:function(t,e,i){var n=t;if("string"==typeof t)this.backend.load(n,this.mediaContainer,e,i);else{var r=t;this.backend.loadElt(r,e),n=r.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(t){this.fireEvent("error",t)}.bind(this))),e&&this.backend.setPeaks(e),e&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(n,function(t){this.decodeArrayBuffer(t,function(t){this.backend.buffer=t,this.backend.setPeaks(null),this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(t,e){this.arraybuffer=t,this.backend.decodeArrayBuffer(t,function(i){this.isDestroyed||this.arraybuffer!=t||(e(i),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(e,i){var n=this,r=t.util.ajax({url:e,responseType:"arraybuffer"});return this.currentAjax=r,this.tmpEvents.push(r.on("progress",function(t){n.onProgress(t)}),r.on("success",function(t){i(t),n.currentAjax=null}),r.on("error",function(t){n.fireEvent("error","XHR error: "+t.target.statusText),n.currentAjax=null})),r},onProgress:function(t){if(t.lengthComputable)var e=t.loaded/t.total;else e=t.loaded/(t.loaded+1e6);this.fireEvent("loading",Math.round(100*e),t.target)},exportPCM:function(t,e,i){t=t||1024,e=e||1e4,i=i||!1;var n=this.backend.getPeaks(t,e),r=[].map.call(n,function(t){return Math.round(t*e)/e}),a=JSON.stringify(r);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(a)),a},exportImage:function(t,e){return t||(t="image/png"),e||(e=1),this.drawer.getImage(t,e)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0}};return t.create=function(e){var i=Object.create(t);return i.init(e),i},t.util={extend:function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},debounce:function(t,e,i){var n,r,a,s=function(){a=null,i||t.apply(r,n)};return function(){r=this,n=arguments;var o=i&&!a;clearTimeout(a),a=setTimeout(s,e),a||(a=setTimeout(s,e)),o&&t.apply(r,n)}},min:function(t){var e=1/0;for(var i in t)t[i]<e&&(e=t[i]);return e},max:function(t){var e=-1/0;for(var i in t)t[i]>e&&(e=t[i]);return e},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(e){var i=Object.create(t.Observer),n=new XMLHttpRequest,r=!1;return n.open(e.method||"GET",e.url,!0),n.responseType=e.responseType||"json",n.addEventListener("progress",function(t){i.fireEvent("progress",t),t.lengthComputable&&t.loaded==t.total&&(r=!0)}),n.addEventListener("load",function(t){r||i.fireEvent("progress",t),i.fireEvent("load",t),200==n.status||206==n.status?i.fireEvent("success",n.response,t):i.fireEvent("error",t)}),n.addEventListener("error",function(t){i.fireEvent("error",t)}),n.send(),i.xhr=n,i}},t.Observer={on:function(t,e){this.handlers||(this.handlers={});var i=this.handlers[t];return i||(i=this.handlers[t]=[]),i.push(e),{name:t,callback:e,un:this.un.bind(this,t,e)}},un:function(t,e){if(this.handlers){var i=this.handlers[t];if(i)if(e)for(var n=i.length-1;n>=0;n--)i[n]==e&&i.splice(n,1);else i.length=0}},unAll:function(){this.handlers=null},once:function(t,e){var i=this;return this.on(t,function n(){e.apply(this,arguments),setTimeout(function(){i.un(t,n)},0)})},fireEvent:function(t){if(this.handlers){var e=this.handlers[t],i=Array.prototype.slice.call(arguments,1);e&&e.forEach(function(t){t.apply(null,i)})}}},t.util.extend(t,t.Observer),t.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return t.WebAudio.audioContext||(t.WebAudio.audioContext=new(window.AudioContext||window.webkitAudioContext)),t.WebAudio.audioContext},getOfflineAudioContext:function(e){return t.WebAudio.offlineAudioContext||(t.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),t.WebAudio.offlineAudioContext},init:function(e){this.params=e,this.ac=e.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(t.WebAudio.state.playing),Object.create(t.WebAudio.state.paused),Object.create(t.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate),this.setLength(0)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(t){t&&t.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(t){this.state!==this.states[t]&&(this.state=this.states[t],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(t){this.disconnectFilters(),t&&t.length&&(this.filters=t,this.analyser.disconnect(),t.reduce(function(t,e){return t.connect(e),e},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.scriptNode=this.ac.createScriptProcessor?this.ac.createScriptProcessor(this.scriptBufferSize):this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var t=this;this.scriptNode.onaudioprocess=function(){var e=t.getCurrentTime();e>=t.getDuration()?(t.setState(t.FINISHED_STATE),t.fireEvent("pause")):e>=t.scheduledPause?t.pause():t.state===t.states[t.PLAYING_STATE]&&t.fireEvent("audioprocess",e)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.gainNode=this.ac.createGain?this.ac.createGain():this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(t){this.gainNode.gain.value=t},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(t,e,i){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(t,function(t){e(t)}.bind(this),i)},setPeaks:function(t){this.peaks=t},setLength:function(t){if(!this.mergedPeaks||t!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];for(var e=this.buffer?this.buffer.numberOfChannels:1,i=0;i<e;i++)this.splitPeaks[i]=[],this.splitPeaks[i][2*(t-1)]=0,this.splitPeaks[i][2*(t-1)+1]=0;this.mergedPeaks[2*(t-1)]=0,this.mergedPeaks[2*(t-1)+1]=0}},getPeaks:function(t,e,i){if(this.peaks)return this.peaks;this.setLength(t);for(var n=this.buffer.length/t,r=~~(n/10)||1,a=this.buffer.numberOfChannels,s=0;s<a;s++)for(var o=this.splitPeaks[s],c=this.buffer.getChannelData(s),l=e;l<=i;l++){for(var u=~~(l*n),h=~~(u+n),p=0,d=0,f=u;f<h;f+=r){var m=c[f];m>d&&(d=m),m<p&&(p=m)}o[2*l]=d,o[2*l+1]=p,(0==s||d>this.mergedPeaks[2*l])&&(this.mergedPeaks[2*l]=d),(0==s||p<this.mergedPeaks[2*l+1])&&(this.mergedPeaks[2*l+1]=p)}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:t.WebAudio.audioContext=null,t.WebAudio.offlineAudioContext=null)},load:function(t){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=t,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(t,e){if(this.buffer)return this.scheduledPause=null,null==t&&(t=this.getCurrentTime())>=this.getDuration()&&(t=0),null==e&&(e=this.getDuration()),this.startPosition=t,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:t,end:e}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(t,e){if(this.buffer){this.createSource();var i=this.seekTo(t,e);t=i.start,e=i.end,this.scheduledPause=e,this.source.start(0,t,e-t),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},getPlaybackRate:function(){return this.playbackRate},setPlaybackRate:function(t){t=t||1,this.isPaused()?this.playbackRate=t:(this.pause(),this.playbackRate=t,this.play())}},t.WebAudio.state={},t.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},t.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition}},t.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},t.util.extend(t.WebAudio,t.Observer),t.MediaElement=Object.create(t.WebAudio),t.util.extend(t.MediaElement,{init:function(t){this.params=t,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=t.mediaType.toLowerCase(),this.elementPosition=t.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var t=this;this.on("play",function e(){if(!t.isPaused()){t.fireEvent("audioprocess",t.getCurrentTime());(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e)}})},load:function(t,e,i,n){var r=document.createElement(this.mediaType);r.controls=this.params.mediaControls,r.autoplay=this.params.autoplay||!1,r.preload=null==n?"auto":n,r.src=t,r.style.width="100%";var a=e.querySelector(this.mediaType);a&&e.removeChild(a),e.appendChild(r),this._load(r,i)},loadElt:function(t,e){var i=t;i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,this._load(i,e)},_load:function(t,e){var i=this;"function"==typeof t.load&&t.load(),t.addEventListener("error",function(){i.fireEvent("error","Error loading media element")}),t.addEventListener("canplay",function(){i.fireEvent("canplay")}),t.addEventListener("ended",function(){i.fireEvent("finish")}),this.media=t,this.peaks=e,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var t=(this.buffer||this.media).duration;return t>=1/0&&(t=this.media.seekable.end(0)),t},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},getPlaybackRate:function(){return this.playbackRate||this.media.playbackRate},setPlaybackRate:function(t){this.playbackRate=t||1,this.media.playbackRate=this.playbackRate},seekTo:function(t){null!=t&&(this.media.currentTime=t),this.clearPlayEnd()},play:function(t,e){this.seekTo(t),this.media.play(),e&&this.setPlayEnd(e),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(t){var e=this;this.onPlayEnd=function(i){i>=t&&(e.pause(),e.seekTo(t))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(e,i,n){return this.buffer?t.WebAudio.getPeaks.call(this,e,i,n):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(t){this.media.volume=t},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),t.AudioElement=t.MediaElement,t.Drawer={init:function(t,e){this.container=t,this.params=e,this.width=0,this.height=e.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(e),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){!e&&t.preventDefault();var i,n=t.targetTouches?t.targetTouches[0].clientX:t.clientX,r=this.wrapper.getBoundingClientRect(),a=this.width,s=this.getWidth();return!this.params.fillParent&&a<s?(i=(n-r.left)*this.params.pixelRatio/a||0)>1&&(i=1):i=(n-r.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,i},setupWrapperEvents:function(){var t=this;this.wrapper.addEventListener("click",function(e){var i=t.wrapper.offsetHeight-t.wrapper.clientHeight;if(0!=i){if(e.clientY>=t.wrapper.getBoundingClientRect().bottom-i)return}t.params.interact&&t.fireEvent("click",e,t.handleEvent(e))}),this.wrapper.addEventListener("scroll",function(e){t.fireEvent("scroll",e)})},drawPeaks:function(t,e,i,n){this.setWidth(e),this.params.barWidth?this.drawBars(t,0,i,n):this.drawWave(t,0,i,n)},style:function(t,e){return Object.keys(e).forEach(function(i){t.style[i]!==e[i]&&(t.style[i]=e[i])}),t},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(t){this.recenterOnPosition(this.wrapper.scrollWidth*t,!0)},recenterOnPosition:function(t,e){var i=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),r=t-n,a=r-i,s=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=s){if(!e&&-n<=a&&a<n){a=Math.max(-5,Math.min(5,a)),r=i+a}(r=Math.max(0,Math.min(s,r)))!=i&&(this.wrapper.scrollLeft=r)}},getScrollX:function(){return Math.round(this.wrapper.scrollLeft*this.params.pixelRatio)},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(t){this.width!=t&&(this.width=t,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize())},setHeight:function(t){t!=this.height&&(this.height=t,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(t){var e=1/this.params.pixelRatio,i=Math.round(t*this.width)*e;if(i<this.lastPos||i-this.lastPos>=e){if(this.lastPos=i,this.params.scrollParent&&this.params.autoCenter){this.recenterOnPosition(~~(this.wrapper.scrollWidth*t))}this.updateProgress(i)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(){},clearWave:function(){},updateProgress:function(){}},t.util.extend(t.Drawer,t.Observer),t.Drawer.Canvas=Object.create(t.Drawer),t.util.extend(t.Drawer.Canvas,{createElements:function(){(this.waveCc=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0})).getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor)&&(this.progressCc=this.progressWave.appendChild(document.createElement("canvas")).getContext("2d"))},updateSize:function(){var t=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:t+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:t+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(e,i,n,r){var a=this;if(e[0]instanceof Array){var s=e;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(function(t,e){a.drawBars(t,e,n,r)});e=s[0]}var o=[].some.call(e,function(t){return t<0}),c=1;o&&(c=2);var l=.5/this.params.pixelRatio,u=this.width,h=this.params.height*this.params.pixelRatio,p=h*i||0,d=h/2,f=e.length/c,m=this.params.barWidth*this.params.pixelRatio,y=Math.max(this.params.pixelRatio,~~(m/2)),v=m+y,b=1/this.params.barHeight;if(this.params.normalize){var g=t.util.max(e),w=t.util.min(e);b=-w>g?-w:g}var _=f/u;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t)for(var i=n/_;i<r/_;i+=v){var a=e[Math.floor(i*_*c)]||0,s=Math.round(a/b*d);t.fillRect(i+l,d-s+p,m+l,2*s)}},this)},drawWave:function(e,i,n,r){var a=this;if(e[0]instanceof Array){var s=e;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(function(t,e){a.drawWave(t,e,n,r)});e=s[0]}if(![].some.call(e,function(t){return t<0})){for(var o=[],c=0,l=e.length;c<l;c++)o[2*c]=e[c],o[2*c+1]=-e[c];e=o}var u=.5/this.params.pixelRatio,h=this.params.height*this.params.pixelRatio,p=h*i||0,d=h/2,f=~~(e.length/2),m=1;this.params.fillParent&&this.width!=f&&(m=this.width/f);var y=1/this.params.barHeight;if(this.params.normalize){var v=t.util.max(e),b=t.util.min(e);y=-b>v?-b:v}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t){t.beginPath(),t.moveTo(n*m+u,d+p);for(var i=n;i<r;i++){var a=Math.round(e[2*i]/y*d);t.lineTo(i*m+u,d-a+p)}for(var i=r-1;i>=n;i--){var a=Math.round(e[2*i+1]/y*d);t.lineTo(i*m+u,d-a+p)}t.closePath(),t.fill(),t.fillRect(0,d+p-u,this.width,u)}},this)},updateProgress:function(t){this.style(this.progressWave,{width:t+"px"})},getImage:function(t,e){return this.waveCc.canvas.toDataURL(t,e)}}),t.Drawer.MultiCanvas=Object.create(t.Drawer),t.util.extend(t.Drawer.MultiCanvas,{initDrawer:function(t){if(this.maxCanvasWidth=null!=t.maxCanvasWidth?t.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var t=Math.round(this.width/this.params.pixelRatio),e=Math.ceil(t/this.maxCanvasElementWidth);this.canvases.length<e;)this.addCanvas();for(;this.canvases.length>e;)this.removeCanvas();for(var i in this.canvases){var n=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);i==this.canvases.length-1&&(n=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[i],n,this.height),this.clearWaveForEntry(this.canvases[i])}},addCanvas:function(){var t={},e=this.maxCanvasElementWidth*this.canvases.length;t.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:e+"px",top:0,bottom:0,height:"100%"})),t.waveCtx=t.wave.getContext("2d"),this.hasProgressCanvas&&(t.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:e+"px",top:0,bottom:0,height:"100%"})),t.progressCtx=t.progress.getContext("2d")),this.canvases.push(t)},removeCanvas:function(){var t=this.canvases.pop();t.wave.parentElement.removeChild(t.wave),this.hasProgressCanvas&&t.progress.parentElement.removeChild(t.progress)},updateDimensions:function(t,e,i){var n=Math.round(e/this.params.pixelRatio),r=Math.round(this.width/this.params.pixelRatio);t.start=t.waveCtx.canvas.offsetLeft/r||0,t.end=t.start+n/r,t.waveCtx.canvas.width=e,t.waveCtx.canvas.height=i,this.style(t.waveCtx.canvas,{width:n+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(t.progressCtx.canvas.width=e,t.progressCtx.canvas.height=i,this.style(t.progressCtx.canvas,{width:n+"px"}))},clearWave:function(){for(var t in this.canvases)this.clearWaveForEntry(this.canvases[t])},clearWaveForEntry:function(t){t.waveCtx.clearRect(0,0,t.waveCtx.canvas.width,t.waveCtx.canvas.height),this.hasProgressCanvas&&t.progressCtx.clearRect(0,0,t.progressCtx.canvas.width,t.progressCtx.canvas.height)},drawBars:function(e,i,n,r){var a=this;if(e[0]instanceof Array){var s=e;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(function(t,e){a.drawBars(t,e,n,r)});e=s[0]}var o=[].some.call(e,function(t){return t<0}),c=1;o&&(c=2);var l=this.width,u=this.params.height*this.params.pixelRatio,h=u*i||0,p=u/2,d=e.length/c,f=this.params.barWidth*this.params.pixelRatio,m=Math.max(this.params.pixelRatio,~~(f/2)),y=f+m,v=1/this.params.barHeight;if(this.params.normalize){var b=t.util.max(e),g=t.util.min(e);v=-g>b?-g:b}for(var w=d/l,_=n/w;_<r/w;_+=y){var C=e[Math.floor(_*w*c)]||0,k=Math.round(C/v*p);this.fillRect(_+this.halfPixel,p-k+h,f+this.halfPixel,2*k)}},drawWave:function(e,i,n,r){var a=this;if(e[0]instanceof Array){var s=e;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(function(t,e){a.drawWave(t,e,n,r)});e=s[0]}if(![].some.call(e,function(t){return t<0})){for(var o=[],c=0,l=e.length;c<l;c++)o[2*c]=e[c],o[2*c+1]=-e[c];e=o}var u=this.params.height*this.params.pixelRatio,h=u*i||0,p=u/2,d=1/this.params.barHeight;if(this.params.normalize){var f=t.util.max(e),m=t.util.min(e);d=-m>f?-m:f}this.drawLine(e,d,p,h,n,r),this.fillRect(0,p+h-this.halfPixel,this.width,this.halfPixel)},drawLine:function(t,e,i,n,r,a){for(var s in this.canvases){var o=this.canvases[s];this.setFillStyles(o),this.drawLineToContext(o,o.waveCtx,t,e,i,n,r,a),this.drawLineToContext(o,o.progressCtx,t,e,i,n,r,a)}},drawLineToContext:function(t,e,i,n,r,a,s,o){if(e){var c=i.length/2,l=1;this.params.fillParent&&this.width!=c&&(l=this.width/c);var u=Math.round(c*t.start),h=Math.round(c*t.end);if(!(u>o||h<s)){var p=Math.max(u,s),d=Math.min(h,o);e.beginPath(),e.moveTo((p-u)*l+this.halfPixel,r+a);for(var f=p;f<d;f++){var m=i[2*f]||0,y=Math.round(m/n*r);e.lineTo((f-u)*l+this.halfPixel,r-y+a)}for(var f=d-1;f>=p;f--){var m=i[2*f+1]||0,y=Math.round(m/n*r);e.lineTo((f-u)*l+this.halfPixel,r-y+a)}e.closePath(),e.fill()}}},fillRect:function(t,e,i,n){for(var r=Math.floor(t/this.maxCanvasWidth),a=Math.min(Math.ceil((t+i)/this.maxCanvasWidth)+1,this.canvases.length),s=r;s<a;s++){var o=this.canvases[s],c=s*this.maxCanvasWidth,l={x1:Math.max(t,s*this.maxCanvasWidth),y1:e,x2:Math.min(t+i,s*this.maxCanvasWidth+o.waveCtx.canvas.width),y2:e+n};l.x1<l.x2&&(this.setFillStyles(o),this.fillRectToContext(o.waveCtx,l.x1-c,l.y1,l.x2-l.x1,l.y2-l.y1),this.fillRectToContext(o.progressCtx,l.x1-c,l.y1,l.x2-l.x1,l.y2-l.y1))}},fillRectToContext:function(t,e,i,n,r){t&&t.fillRect(e,i,n,r)},setFillStyles:function(t){t.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(t.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(t){this.style(this.progressWave,{width:t+"px"})},getImage:function(t,e){var i=[];return this.canvases.forEach(function(n){i.push(n.wave.toDataURL(t,e))}),i.length>1?i:i[0]}}),t.Drawer.SplitWavePointPlot=Object.create(t.Drawer.Canvas),t.util.extend(t.Drawer.SplitWavePointPlot,{defaultPlotParams:{plotNormalizeTo:"whole",plotTimeStart:0,plotMin:0,plotMax:1,plotColor:"#f63",plotProgressColor:"#F00",plotPointHeight:2,plotPointWidth:2,plotSeparator:!0,plotSeparatorColor:"black",plotRangeDisplay:!1,plotRangeUnits:"",plotRangePrecision:4,plotRangeIgnoreOutliers:!1,plotRangeFontSize:12,plotRangeFontType:"Ariel",waveDrawMedianLine:!0,plotFileDelimiter:"\t"},plotTimeStart:0,plotTimeEnd:-1,plotArrayLoaded:!1,plotArray:[],plotPoints:[],plotMin:0,plotMax:1,initDrawer:function(t){var e=this;for(var i in this.defaultPlotParams)void 0===this.params[i]&&(this.params[i]=this.defaultPlotParams[i]);if(this.plotTimeStart=this.params.plotTimeStart,void 0!==this.params.plotTimeEnd&&(this.plotTimeEnd=this.params.plotTimeEnd),Array.isArray(t.plotArray))this.plotArray=t.plotArray,this.plotArrayLoaded=!0;else{this.loadPlotArrayFromFile(t.plotFileUrl,function(t){e.plotArray=t,e.plotArrayLoaded=!0,e.fireEvent("plot_array_loaded")},this.params.plotFileDelimiter)}},drawPeaks:function(t,e,i,n){if(1==this.plotArrayLoaded)this.setWidth(e),this.splitChannels=!0,this.params.height=this.params.height/2,t[0]instanceof Array&&(t=t[0]),this.params.barWidth?this.drawBars(t,1,i,n):this.drawWave(t,1,i,n),this.params.height=2*this.params.height,this.calculatePlots(),this.drawPlots();else{var r=this;r.on("plot-array-loaded",function(){r.drawPeaks(t,e,i,n)})}},drawPlots:function(){var t=this.params.height*this.params.pixelRatio/2,e=.5/this.params.pixelRatio;this.waveCc.fillStyle=this.params.plotColor,this.progressCc&&(this.progressCc.fillStyle=this.params.plotProgressColor);for(var i in this.plotPoints){var n=parseInt(i),r=t-this.params.plotPointHeight-this.plotPoints[i]*(t-this.params.plotPointHeight),a=this.params.plotPointHeight;this.waveCc.fillRect(n,r,this.params.plotPointWidth,a),this.progressCc&&this.progressCc.fillRect(n,r,this.params.plotPointWidth,a)}this.params.plotSeparator&&(this.waveCc.fillStyle=this.params.plotSeparatorColor,this.waveCc.fillRect(0,t,this.width,e)),this.params.plotRangeDisplay&&this.displayPlotRange()},displayPlotRange:function(){var t=this.params.plotRangeFontSize*this.params.pixelRatio,e=this.plotMax.toPrecision(this.params.plotRangePrecision)+" "+this.params.plotRangeUnits,i=this.plotMin.toPrecision(this.params.plotRangePrecision)+" "+this.params.plotRangeUnits;this.waveCc.font=t.toString()+"px "+this.params.plotRangeFontType,this.waveCc.fillText(e,3,t),this.waveCc.fillText(i,3,this.height/2)},calculatePlots:function(){this.plotPoints={},this.calculatePlotTimeEnd();for(var t=[],e=-1,i=0,n=99999999999999,r=0,a=99999999999999,s=this.plotTimeEnd-this.plotTimeStart,o=0;o<this.plotArray.length;o++){var c=this.plotArray[o];if(c.value>i&&(i=c.value),c.value<n&&(n=c.value),c.time>=this.plotTimeStart&&c.time<=this.plotTimeEnd){var l=Math.round(this.width*(c.time-this.plotTimeStart)/s);if(t.push(c.value),l!==e&&t.length>0){var u=this.avg(t);u>r&&(r=u),u<a&&(a=u),this.plotPoints[e]=u,t=[]}e=l}}"whole"==this.params.plotNormalizeTo?(this.plotMin=n,this.plotMax=i):"values"==this.params.plotNormalizeTo?(this.plotMin=this.params.plotMin,this.plotMax=this.params.plotMax):(this.plotMin=a,this.plotMax=r),this.normalizeValues()},normalizeValues:function(){var t={};if("none"!==this.params.plotNormalizeTo){for(var e in this.plotPoints){var i=(this.plotPoints[e]-this.plotMin)/(this.plotMax-this.plotMin);i>1?this.params.plotRangeIgnoreOutliers||(t[e]=1):i<0?this.params.plotRangeIgnoreOutliers||(t[e]=0):t[e]=i}this.plotPoints=t}},loadPlotArrayFromFile:function(e,i,n){void 0===n&&(n="\t");var r=[];t.util.ajax({url:e,responseType:"text"}).on("load",function(t){if(200==t.currentTarget.status){for(var e=t.currentTarget.responseText.split("\n"),a=0;a<e.length;a++){var s=e[a].split(n);2==s.length&&r.push({time:parseFloat(s[0]),value:parseFloat(s[1])})}i(r)}})},calculatePlotTimeEnd:function(){this.plotTimeEnd=void 0!==this.params.plotTimeEnd?this.params.plotTimeEnd:this.plotArray[this.plotArray.length-1].time},avg:function(t){return t.reduce(function(t,e){return t+e})/t.length}}),t.util.extend(t.Drawer.SplitWavePointPlot,t.Observer),t.PeakCache={init:function(){this.clearPeakCache()},clearPeakCache:function(){this.peakCacheRanges=[],this.peakCacheLength=-1},addRangeToPeakCache:function(t,e,i){t!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=t);for(var n=[],r=0;r<this.peakCacheRanges.length&&this.peakCacheRanges[r]<e;)r++;for(r%2==0&&n.push(e);r<this.peakCacheRanges.length&&this.peakCacheRanges[r]<=i;)n.push(this.peakCacheRanges[r]),r++;r%2==0&&n.push(i),n=n.filter(function(t,e,i){return 0==e?t!=i[e+1]:e==i.length-1?t!=i[e-1]:t!=i[e-1]&&t!=i[e+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(n),this.peakCacheRanges=this.peakCacheRanges.sort(function(t,e){return t-e}).filter(function(t,e,i){return 0==e?t!=i[e+1]:e==i.length-1?t!=i[e-1]:t!=i[e-1]&&t!=i[e+1]});var a=[];for(r=0;r<n.length;r+=2)a.push([n[r],n[r+1]]);return a},getCacheRanges:function(){for(var t=[],e=0;e<this.peakCacheRanges.length;e+=2)t.push([this.peakCacheRanges[e],this.peakCacheRanges[e+1]]);return t}},function(){var e=function(){var e=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(e,function(e){var i=t.util.extend({container:e,backend:"MediaElement",mediaControls:!0},e.dataset);e.style.display="block";var n=t.create(i);if(e.dataset.peaks)var r=JSON.parse(e.dataset.peaks);n.load(e.dataset.url,r)})};"complete"===document.readyState?e():window.addEventListener("load",e)}(),t})},UlEV:function(){},V8XL:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"default",function(){return P});var a,s,o=i("KM04"),c=(i.n(o),i("7/cg")),l=(i.n(c),i("Q1yZ")),u=i.n(l),h=i("JL9d"),p=(i.n(h),i("aqQ4")),d=(i.n(p),i("E/bI")),f=i("qpDm"),m=i("lHjG"),y=i.n(m),v=i("pJ6z"),b=i("zmrY"),g=i("nWKw"),w=i("DuPh"),_=(i("AjJi"),i("9U4+")),C=i("/QC5"),k=Object(o.h)("h1",null,"No tracks"),P=(a=Object(d.b)(function(t){return t}))(s=function(t){function e(){return n(this,t.apply(this,arguments))}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.auth,i=t.user;Object(f.a)(this.props.dispatch.bind(this),{token:e.token,vanity_url:i.profile.url})},e.prototype.render=function(t){var e=this,i=t.auth,n=t.user;return i.logged_in?Object(o.h)("div",{class:y.a.profile,key:"user-profile-"+n.id},Object(o.h)("div",{class:"header "+y.a.header},Object(o.h)(b.a,{user:n.profile,show_location:!0,style:{width:"100%",position:"relative","max-width":"100%",overflow:"hidden"},h1_class:y.a.username_custom})),Object(o.h)("div",{class:y.a.profile_contents,key:"profile-contents-"+n.id},Object(o.h)(u.a,{key:"layout-grid-"+n.id},Object(o.h)(u.a.Inner,{key:"layout-grid-inner-"+n.id},Object(o.h)(u.a.Cell,{desktopCols:"9",tabletCols:"12",tabletOrder:"2",key:"layout-grid-cell-tracks-"+n.id},Object(o.h)("h1",{class:y.a.mainHeader,style:{"margin-top":"0"}},"Tracks ",Object(o.h)("small",{class:y.a.smolButNotSwol},n.tracks.length)),Object(o.h)("div",{key:"user-tracks-"+n.id},n.tracks.length>=1&&n.tracks.map(function(t){return Object(o.h)(_.a,{track:t,user:n,currentUser:n,key:t.id,footer:e.props.footer,audioContext:e.props.audioContext})}),n.tracks.length<=0&&k)),Object(o.h)(u.a.Cell,{desktopCols:"3",tabletCols:"12",tabletOrder:"1",key:"layout-grid-cell-about-"+n.id},Object(o.h)("h1",{class:y.a.mainHeader,style:{"margin-top":"0"}},"About"),null!=n&&Object(o.h)(v.a,{user:n.profile,key:"user-profile-description-"+n.id}),null!=n&&Object(o.h)(g.a,{viewedUser:n,style:{"margin-top":"20px"},key:"user-profile-followers-"+n.id}),null!=n&&Object(o.h)(w.a,{viewedUser:n,style:{"margin-top":"20px"},key:"user-profile-following-"+n.id})))))):Object(C.d)("/",!0)},e}(o.Component))||s},Xg6D:function(t){t.exports={username:"username__2o-Ol",caption:"caption__26bY4"}},gUkI:function(t,e,i){!function(e,n){t.exports=n(i("QKqU"),i("eW0v"),i("5D9O"))}(0,function(t,e,i){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return t.split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("")}function c(t,e,i){var n=t[e];return void 0!==n&&("number"!=typeof n||n!==parseInt(n,10)||n<0)?new Error("Invalid "+e+" supplied to "+i+",\n      expected a positive integer"):null}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(2),p=n(h),d=i(3),f=n(d),m=i(4),y=n(m),v=["audioprocess","error","finish","loading","mouseup","pause","play","ready","scroll","seek","zoom"],b=function(t){return function(){var e=void 0;e||(e=setTimeout(function(){e=null,t()},66))}},g=function(e){function i(e){r(this,i);var n=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));if(n.state={isReady:!1},void 0===(void 0===t?"undefined":l(t)))throw new Error("WaveSurfer is undefined!");return n._wavesurfer=Object.create(t),n._loadMediaElt=n._loadMediaElt.bind(n),n._loadAudio=n._loadAudio.bind(n),n._seekTo=n._seekTo.bind(n),n.props.responsive&&(n._handleResize=b(function(){n.props.playing&&n._wavesurfer.pause(),n._wavesurfer.drawBuffer(),n.state.isReady&&n._seekTo(n.props.pos),n.props.playing&&n._wavesurfer.play()})),n}return s(i,e),u(i,[{key:"componentDidMount",value:function(){var t=this,e=(0,y.default)({},this.props.options,{container:this.wavesurferEl});this.props.mediaElt&&(e.backend="MediaElement"),this._wavesurfer.init(e),this._wavesurfer.on("ready",function(){t.setState({isReady:!0,pos:t.props.pos}),t.props.pos&&t._seekTo(t.props.pos),t.props.volume&&t._wavesurfer.setVolume(t.props.volume),t.props.playing&&t._wavesurfer.play(),t.props.zoom&&t._wavesurfer.zoom(t.props.zoom)}),this._wavesurfer.on("audioprocess",function(e){t.setState({pos:e}),t.props.onPosChange({wavesurfer:t._wavesurfer,originalArgs:[e]})}),this._wavesurfer.on("seek",function(e){if(t.state.isReady){var i=t._posToSec(e);t.setState({formattedPos:i}),t.props.onPosChange({wavesurfer:t._wavesurfer,originalArgs:[i]})}}),v.forEach(function(e){var i=t.props["on"+o(e)],n=t._wavesurfer;i&&t._wavesurfer.on(e,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i({wavesurfer:n,originalArgs:e})})}),this.props.audioFile&&this._loadAudio(this.props.audioFile,this.props.audioPeaks),this.props.mediaElt&&this._loadMediaElt(this.props.mediaElt,this.props.audioPeaks),this.props.responsive&&window.addEventListener("resize",this._handleResize,!1)}},{key:"componentWillReceiveProps",value:function(t){var e=this,i=!1,n=void 0;this.props.audioFile!==t.audioFile&&(this.setState({isReady:!1}),this._loadAudio(t.audioFile,t.audioPeaks),i=!0),this.props.mediaElt!==t.mediaElt&&(this.setState({isReady:!1}),this._loadMediaElt(t.mediaElt,t.audioPeaks),i=!0),this.props.audioPeaks!==t.audioPeaks&&(t.mediaElt?this._loadMediaElt(t.mediaElt,t.audioPeaks):this._loadAudio(t.audioFile,t.audioPeaks)),void 0!==t.pos&&this.state.isReady&&t.pos!==this.props.pos&&t.pos!==this.state.pos&&(i?n=this._wavesurfer.on("ready",function(){e._seekTo(t.pos),n.un()}):this._seekTo(t.pos)),i||this.props.playing===t.playing&&this._wavesurfer.isPlaying()===t.playing||(t.playing?this._wavesurfer.play():this._wavesurfer.pause()),this.props.volume!==t.volume&&this._wavesurfer.setVolume(t.volume),this.props.zoom!==t.zoom&&this._wavesurfer.zoom(t.zoom),this.props.options.audioRate!==t.options.audioRate&&this._wavesurfer.setPlaybackRate(t.options.audioRate),t.responsive&&this.props.responsive!==t.responsive&&window.addEventListener("resize",this._handleResize,!1),t.responsive||this.props.responsive===t.responsive||window.removeEventListener("resize",this._handleResize)}},{key:"componentWillUnmount",value:function(){var t=this;v.forEach(function(e){t._wavesurfer.un(e)}),this._wavesurfer.destroy(),this.props.responsive&&window.removeEventListener("resize",this._handleResize)}},{key:"_secToPos",value:function(t){return 1/this._wavesurfer.getDuration()*t}},{key:"_posToSec",value:function(t){return t*this._wavesurfer.getDuration()}},{key:"_seekTo",value:function(t){var e=this._secToPos(t);this.props.options.autoCenter?this._wavesurfer.seekAndCenter(e):this._wavesurfer.seekTo(e)}},{key:"_loadMediaElt",value:function(t,e){if(t instanceof window.HTMLElement)this._loadAudio(t,e);else{if(!window.document.querySelector(t))throw new Error("Media Element not found!");this._loadAudio(window.document.querySelector(t),e)}}},{key:"_loadAudio",value:function(t,e){if(t instanceof window.HTMLElement)this._wavesurfer.loadMediaElement(t,e);else if("string"==typeof t)this._wavesurfer.load(t,e);else{if(!(t instanceof window.Blob||t instanceof window.File))throw new Error("Wavesurfer._loadAudio expects prop audioFile\n        to be either HTMLElement, string or file/blob");this._wavesurfer.loadBlob(t,e)}}},{key:"render",value:function(){var t=this,e=!!this.props.children&&p.default.Children.map(this.props.children,function(e){return p.default.cloneElement(e,{wavesurfer:t._wavesurfer,isReady:t.state.isReady})});return p.default.createElement("div",null,p.default.createElement("div",{ref:function(e){t.wavesurferEl=e}}),e)}}]),i}(h.Component);g.propTypes={playing:f.default.bool,pos:f.default.number,audioFile:function(t,e,i){var n=t[e];return!n||"string"==typeof n||n instanceof window.Blob||n instanceof window.File?null:new Error("Invalid "+e+" supplied to "+i+"\n        expected either string or file/blob")},mediaElt:f.default.oneOfType([f.default.string,f.default.instanceOf(window.HTMLElement)]),audioPeaks:f.default.array,volume:f.default.number,zoom:f.default.number,responsive:f.default.bool,onPosChange:f.default.func,children:f.default.oneOfType([f.default.element,f.default.array]),options:f.default.shape({audioRate:f.default.number,backend:f.default.oneOf(["WebAudio","MediaElement"]),barWidth:function(t,e,i){var n=t[e];return void 0!==n&&"number"!=typeof n?new Error("Invalid "+e+" supplied to "+i+"\n          expected either undefined or number"):null},cursorColor:f.default.string,cursorWidth:c,dragSelection:f.default.bool,fillParent:f.default.bool,height:c,hideScrollbar:f.default.bool,interact:f.default.bool,loopSelection:f.default.bool,mediaControls:f.default.bool,minPxPerSec:c,normalize:f.default.bool,pixelRatio:f.default.number,progressColor:f.default.string,scrollParent:f.default.bool,skipLength:f.default.number,waveColor:f.default.oneOfType([f.default.string,f.default.instanceOf(window.CanvasGradient)]),autoCenter:f.default.bool})},g.defaultProps={playing:!1,pos:0,options:t.defaultParams,responsive:!0,onPosChange:function(){}},e.default=g}).call(e,i(1))},function(e){e.exports=t},function(t){t.exports=e},function(t){t.exports=i},function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function r(t,e,i){var n=e[i];if(void 0!==n&&null!==n){if(o.call(t,i)&&(void 0===t[i]||null===t[i]))throw new TypeError("Cannot convert undefined or null to object ("+i+")");t[i]=o.call(t,i)&&s(n)?a(Object(t[i]),e[i]):n}}function a(t,e){if(t===e)return t;e=Object(e);for(var i in e)o.call(e,i)&&r(t,e,i);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),a=0;a<n.length;a++)c.call(e,n[a])&&r(t,e,n[a]);return t}var s=i(5),o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(t){t=n(t);for(var e=1;e<arguments.length;e++)a(t,arguments[e]);return t}},function(t){"use strict";t.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}}])})},lHjG:function(t){t.exports={profile:"profile__9idNy",header:"header__14P5X",profile_contents:"profile_contents__De-RU",mainHeader:"mainHeader__1cjVT",smol:"smol__2LkG4",smolButNotSwol:"smolButNotSwol__21wN7",username_custom:"username_custom__2h2B5"}},nWKw:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.d(e,"a",function(){return b});var a,s,o=i("KM04"),c=(i.n(o),i("sJaT")),l=i.n(c),u=i("UlEV"),h=(i.n(u),i("aqQ4")),p=(i.n(h),i("zmrY")),d=i("/QC5"),f=i("BrQk"),m=i.n(f),y=i("E/bI"),v=(i("qpDm"),Object(o.h)("p",null,"No followers")),b=(a=Object(y.b)(function(t){return t}))(s=function(t){function e(){return n(this,t.apply(this,arguments))}return r(e,t),e.prototype.render=function(t){var e=t.viewedUser,i=t.style,n=void 0===i?{}:i;return Object(o.h)("div",{style:n},Object(o.h)(l.a,{class:m.a.card},Object(o.h)("h1",{style:{"margin-bottom":"10px"}},"Followers ",e.followers.length),0!==e.followers.length&&e.followers.map(function(t){return Object(o.h)(d.a,{href:"/"+t.url,class:m.a.link},Object(o.h)(p.a,{user:t}))}),e.followers.length<=0&&v))},e}(o.Component))||s},pJ6z:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.d(e,"a",function(){return d});var a=i("KM04"),s=(i.n(a),i("sJaT")),o=i.n(s),c=i("UlEV"),l=(i.n(c),i("aqQ4")),u=(i.n(l),i("/QC5"),i("Xg6D")),h=i.n(u),p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("\n","<br />")},d=function(t){function e(){return n(this,t.apply(this,arguments))}return r(e,t),e.prototype.render=function(t){var e=t.user,i="mdc-typography--title "+h.a.username;return Object(a.h)("div",null,Object(a.h)(o.a,null,Object(a.h)("div",null,Object(a.h)("h2",{class:i},e.displayName||e.url||"Untitled user"),Object(a.h)("div",{class:"mdc-typography--caption "+h.a.caption,dangerouslySetInnerHTML:{__html:p(e.description)||"<p>No description</p>"}}))))},e}(a.Component)},pln1:function(){},sJaT:function(t,e,i){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t&&t.__esModule?t:{default:t}}function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("7/cg")),c=a(i("MeGi")),l=a(i("lhA9")),u=i("KM04"),h=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card",e._mdcProps=["stroked"],e}return r(e,t),e}(l.default),p=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__actions",e._mdcProps=["full-bleed"],e}return r(e,t),e}(l.default),d=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__media",e._mdcProps=["square","16-9"],e}return r(e,t),e}(l.default),f=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__action",e}return r(e,t),e.prototype.materialDom=function(t){return(0,u.h)("button",s({className:"mdc-button mdc-card__action--button"},t,{ref:this.setControlRef}),t.children)},e}(o.default),m=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__action-icons",e}return r(e,t),e}(l.default),y=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__action",e}return r(e,t),e.prototype.materialDom=function(e){return e.className="mdc-card__action--icon",t.prototype.materialDom.call(this,e)},e}(c.default),v=function(t){function e(){var e=n(this,t.call(this));return e.componentName="card__media-content",e}return r(e,t),e}(l.default);h.Actions=p,h.ActionButton=f,h.ActionIcons=m,h.ActionIcon=y,h.Media=d,h.CardMediaContent=v,e.default=h},wK0a:function(t){t.exports={username:"username__3U9_s",centered:"centered__1_xTz",actionable:"actionable__p4iRH",displayName:"displayName__2DxWC",card:"card__2NUki",cardRoot:"cardRoot__3NWqf",w100:"w100__1rcDw"}},xYRm:function(t){t.exports={form:"form__Ak_Lq"}}});
//# sourceMappingURL=route-my-profile.chunk.55873.js.map