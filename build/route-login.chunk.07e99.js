webpackJsonp([10],{"/Ajl":function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,a){try{var i=e[o](a),c=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}function o(){return localStorage.clear(),{type:g.a.LOADING}}function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,a){try{var i=e[o](a),c=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n("aIIw"),s=n.n(u),l=n("KM04"),f=n("E/bI"),p=n("sJaT"),d=n.n(p),h=n("Cv2I"),m=n.n(h),b=n("7/cg"),y=n.n(b),v=n("gbHP"),_=n.n(v),O=(n("VFUX"),n("fitr")),g=n("CfhC"),j=function(){var t=r(s.a.mark(function t(e,n,r){var o,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={},t.prev=1,t.next=4,fetch(O.a+"/login",{body:JSON.stringify(e),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return a=t.sent,t.next=7,a.json();case 7:if(i=t.sent,200!==a.status){t.next=12;break}o={type:g.a.SUCCESSFULLY_LOGGED_IN,payload:i},t.next=13;break;case 12:throw new Error(i.error);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),o={type:g.a.FAILED_LOGIN,payload:{error:t.t0.message}};case 18:return t.prev=18,null!=r&&"function"==typeof r&&r(),t.abrupt("return",n(o));case 22:case"end":return t.stop()}},t,this,[[1,15,18,22]])}));return function(){return t.apply(this,arguments)}}(),w=n("/QC5"),C=(n("UlEV"),n("aqQ4"),n("qKn3"),n("MrFd")),P=n.n(C);n.d(e,"default",function(){return I});var N,E,x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k={},L=Object(l.h)("div",{class:"header"},Object(l.h)("h1",null,"Login")),M=Object(l.h)(_.a,{reversed:!0,indeterminate:!0}),I=(N=Object(f.b)(function(t){return t.auth}))(E=function(t){function e(){return i(this,t.apply(this,arguments))}return c(e,t),e.prototype.onLogin=function(){function t(){return e.apply(this,arguments)}var e=a(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),n=this.props.dispatch,n(o()),j(k,n,function(){return k={}});case 4:case"end":return t.stop()}},t,this)}));return t}(),e.prototype.onEmailChange=function(t){k=x({},k,{email:t.currentTarget.value||""})},e.prototype.onPasswordChange=function(t){k=x({},k,{password:t.currentTarget.value||""})},e.prototype.render=function(t){var e=t.loading,n=t.logged_in,r=t.error,o=t.errorMessage;return!0===n&&Object(w.d)("/",!0),Object(l.h)("div",null,L,Object(l.h)("div",{class:P.a.home},Object(l.h)(d.a,{className:P.a.card},Object(l.h)("form",{class:P.a.cardBody,onSubmit:this.onLogin.bind(this)},Object(l.h)(m.a,{name:"login_email",label:"Enter your email address",type:"email",autofocus:!0,onChange:this.onEmailChange.bind(this),key:"login-email"}),Object(l.h)(m.a,{name:"login_password",type:"password",label:"Enter a password",onChange:this.onPasswordChange.bind(this),key:"login-password"}),Object(l.h)("div",{className:P.a.buttonContainer},Object(l.h)(y.a,{raised:!0,onClick:this.onLogin.bind(this),type:"submit"},!n&&!e&&"Login",!n&&e&&M),r&&null!=o&&Object(l.h)("div",{className:"error-message"},o))))))},e}(l.Component))||E},MrFd:function(t){t.exports={home:"home__10m3k",card:"card__2r-mQ",cardHeader:"cardHeader__1__WD",cardBody:"cardBody__3P5mq",buttonContainer:"buttonContainer__22VCD"}},UlEV:function(){},sJaT:function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t&&t.__esModule?t:{default:t}}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=a(n("7/cg")),u=a(n("MeGi")),s=a(n("lhA9")),l=n("KM04"),f=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card",e._mdcProps=["stroked"],e}return o(e,t),e}(s.default),p=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__actions",e._mdcProps=["full-bleed"],e}return o(e,t),e}(s.default),d=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__media",e._mdcProps=["square","16-9"],e}return o(e,t),e}(s.default),h=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__action",e}return o(e,t),e.prototype.materialDom=function(t){return(0,l.h)("button",i({className:"mdc-button mdc-card__action--button"},t,{ref:this.setControlRef}),t.children)},e}(c.default),m=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__action-icons",e}return o(e,t),e}(s.default),b=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__action",e}return o(e,t),e.prototype.materialDom=function(e){return e.className="mdc-card__action--icon",t.prototype.materialDom.call(this,e)},e}(u.default),y=function(t){function e(){var e=r(this,t.call(this));return e.componentName="card__media-content",e}return o(e,t),e}(s.default);f.Actions=p,f.ActionButton=h,f.ActionIcons=m,f.ActionIcon=b,f.Media=d,f.CardMediaContent=y,e.default=f}});
//# sourceMappingURL=route-login.chunk.07e99.js.map